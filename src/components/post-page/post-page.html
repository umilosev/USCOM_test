<div class="page">

  <ng-container *ngIf="!postLoading && post">

    <!-- POST -->
    <mat-card class="post-card">

      <mat-card-header>
        <mat-card-title class="post-title">
          {{ post.title }}
        </mat-card-title>

        <mat-card-subtitle class="post-subtitle">
          Post content
        </mat-card-subtitle>
      </mat-card-header>

      <mat-divider></mat-divider>

      <mat-card-content>
        <div class="post-text">
          {{ post.body }}
        </div>
      </mat-card-content>

      <mat-card-actions align="end">
        <button
          mat-flat-button
          color="primary"
          (click)="editPost()">
          Edit post
        </button>
      </mat-card-actions>

    </mat-card>

    <!-- COMMENTS -->
    <mat-card class="comments-card">

      <mat-card-header>
        <mat-card-title>Comments</mat-card-title>
        <mat-card-subtitle>
          {{ comments.length || 0 }} total
        </mat-card-subtitle>
      </mat-card-header>

      <mat-divider></mat-divider>

<mat-list *ngIf="comments.length">

  <mat-list-item *ngFor="let comment of comments" class="comment-item">

    <!-- Wrap content in a div so it can expand -->
    <div class="comment-content">

      <div class="comment-author">{{ comment.name }}</div>
      <div class="comment-email">{{ comment.email }}</div>
      <div class="comment-body">{{ comment.body }}</div>

    </div>

    <!-- Edit button on the right -->
    <button
      mat-icon-button
      matListItemMeta
      color="primary"
      (click)="openEditCommentDialog(comment)">
      Edit comment
    </button>

  </mat-list-item>

</mat-list>

      <mat-card-actions align="end">
        <button
          mat-stroked-button
          color="primary"
          (click)="openAddCommentDialog()">
          Add comment
        </button>
      </mat-card-actions>

    </mat-card>

  </ng-container>

</div>
